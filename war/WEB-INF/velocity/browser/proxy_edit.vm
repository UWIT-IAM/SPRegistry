#* ========================================================================
 * Copyright (c) 2012-2013 The University of Washington
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 *#
##

## helpers
<div id="googleGateHelp" dojoType="iam/Dialog" title="Google gateway" $hide>
The Google gateway allows your SAML SP users to authenticate with their Google identities.
<p>
Your Client ID and Client Secret go into the Gateway form.
<p>
See the <a href="https://wiki.cac.washington.edu/x/o9o6Aw">Social-to-SAML gateway</a> for more information.
</div>

<div id="liveidGateHelp" dojoType="iam/Dialog" title="Google gateway" $hide>
The LiveID gateway allows your SAML SP users to authenticate with their LiveID identities.
<p>
Activate the LiveID gateway by entering your liveid application's id and secret in the gateway form.
<p>
See the <a href="https://wiki.cac.washington.edu/x/o9o6Aw">Social-to-SAML gateway</a> for more information.
</div>


<div id="proxyEditDialog" data-dojo-type="iam/Dialog" title="Edit proxy data for ${relyingPartyId}"
    data-dojo-props="submitLabel:'Save changes', submitAction:'proxy_saveProxy(\'${relyingPartyId}\')', cancelLabel:'Cancel'"
    ${hide}>

#set ($google_status = 0 )
#set ($liveid_status = 0 )

<table class="iamtable">

    <tr><th colspan="3">SAML Gateways</th></tr>
    <tr><td class="label">Entity Id</td>
         <td colspan="2">${relyingPartyId}</td></tr>

## we actually support only a subset of possible proxies
     #set ($google = $proxy.getProxyIdp("Google"))
     #set ($liveid = $proxy.getProxyIdp("LiveID"))

    <tr><th colspan="2">Google</th>
       <th style="text-align:right;"><a href="javascript:iam_showTheDialog('googleGateHelp',[])">Help</a></th>
    </tr>

    <tr><td class="label">Client ID</td>
         <td colspan="2"><input id="google_cid" dojoType="dijit.form.TextBox" size="40"
           #if ( $google.clientId)
            value="$google.clientId"
           #else
            value=""
           #end
          /></td></tr>
    <tr><td class="label">Client Secret</td>
         <td colspan="2"><input id="google_cpw" dojoType="dijit.form.TextBox" size="40"
           #if ( $google.clientSecret)
            value="$google.clientSecret"
           #else
            value=""
           #end
          /></td></tr>

<tr><td colspan="99" height="20"></td><tr>

    <tr><th colspan="3">LiveID</th>
       <th style="text-align:right;"><a href="javascript:iam_showTheDialog('liveidGateHelp',[]);">Help</a></th>
    </tr>

    <tr><td class="label">Client ID</td>
         <td colspan="2"><input id="liveid_cid" dojoType="dijit.form.TextBox"
          #if ( $liveid.clientId)
            value="$liveid.clientId"
           #else
            value=""
           #end
          /></td></tr>
 
    <tr><td class="label">Client Secret</td>
         <td colspan="2"><input id="liveid_cpw" dojoType="dijit.form.TextBox"
          #if ( $liveid.clientSecret)
            value="$liveid.clientSecret"
           #else
            value=""
           #end
          /></td></tr>
   

</table>


</div>

