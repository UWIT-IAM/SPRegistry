#* ========================================================================
 * Copyright (c) 2009-2013 The University of Washington
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 *#

##
## Templates for rp edit 
##

<div id="metaEditDialog" data-dojo-type="iam/Dialog" title="Edit metadata"
     data-dojo-props="submitLabel:'Save changes', submitAction:'saveRP(\'${relyingParty.entityId}\')', cancelLabel:'Cancel'"
     style="display:none">

## <div id="metarnotice" class="rnotice">(<span class="rstar">*</span> required field)</div>


<h3 tabindex="0">Edit metadata for ${relyingPartyId}</h3>

#if ( $metadataByLookup )
  This metadata was generated by the Service Provider's Metadata response.
#end
#if ( $metadataByDefault )
  Your Service Provider did not respond to a request for metadata. 
These are default values for a Shibboleth 2.x Service Provider.  They will very likely need to be edited.
#end

<h3>Organization</h3>

<ul class="iamlist">
## Organization
   #set ( $count = 0 )

   #set ( $org = $relyingParty.organization )

     <li id="org0_0">
      <h4 class="dt">Name:${rstar}</h4>
         <div class="dd"><input aria-label="org name. required entry" data-dojo-type="dijit.form.TextBox" id="orgn_0" value="$!org.name" /></div>
     </li>
     <li id="org0_1">
      <h4 class="dt" >Display:$rstar</h4>
         <div class="dd"><input aria-label="org display name, required" data-dojo-type="dijit.form.TextBox" id="orgd_0" value="$!org.displayName" /></div>
     </li>
     <li id="org0_2">
      <h4 class="dt" >Url:$rstar</h4>
         <div class="dd"><input aria-label="org url, required" data-dojo-type="dijit.form.TextBox" id="orgu_0" value="$!org.url" /></div>
     </li>
     #set ( $count = $count + 1)

 
 ## Contacts
    <li>
      <h4 class="dt">Contacts</h4>
       <div class="dd">
        <ul class="iamlist">
   #set ( $count = 0 )
   #foreach ( $ct in $relyingParty.contactPersons )
     <li id="ct${count}_0">
       <span class="dt dt3" >Type</span>
       <select class="dd" id="ctt_${count}" aria-label="contact type">
       #foreach ( $t in ["","technical","support","administrative","billing","other"] )
         <option value="$t" 
           #if ( $t == $ct.type )
             selected="selected"
           #end
         >$t</option>
       #end
       </select>
     </li>
     <li><span class="dt dt3" id="ct${count}_1">Name$rstar</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="ctgn_${count}" value="$!ct.givenName" aria-label="name, required" />
     </li>
     <li><span class="dt dt3" id="ct${count}_2">Email$rstar</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="cte_${count}" value="$!ct.email" aria-label="email, required" />
     </li>
     <li><span class="dt dt3" id="ct${count}_3">Phone</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="ctp_${count}" value="$!ct.phone" aria-label="phone"/>
     </li>
     <li><div class="dt dt3" style="height:.5em"></div></li>
     #set ( $count = $count + 1)
   #end
 
   #foreach ( $i in [ $count .. 4 ] )
     <li id="ct${i}_0" #if ( $i > 1 ) ${hide} #end >
       <span class="dt dt3" >Type</span>
       <select class="dd" id="ctt_${i}" aria-label="contact type">
       #foreach ( $t in ["","technical","support","administrative","billing","other"] )
         <option value="$t" 
           #if ( $t == "" )
             selected="selected"
           #end
         >$t</option>
       #end
       </select>
     </li>
     <li id="ct${i}_1" #if ( $i > 1 ) ${hide} #end >
      <span class="dt dt3" >Name$rstar</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="ctgn_${i}" value="" aria-label="Name, required" />
     </li>
     <li id="ct${i}_2" #if ( $i > 1 ) ${hide} #end >
      ## <label class="dt dt3" >Email$rstar</label>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="cte_${i}" value="" aria-label="email, required" />
     </li>
     <li id="ct${i}_3" #if ( $i > 1 ) ${hide} #end >
      <span class="dt dt3">Phone</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="ctp_${i}" value="" aria-label="phone"/>
     </li>
     #set ( $label = "" )
   #end
   <li id="ct_more">
    <div class="dt dt3"><a href="javascript:meta_showMoreFields('ct', 'ct_more')">add contact person</a></div>
   </li>

   </ul></div>
  </li>
</ul>

## Details

<h3>Metadata details</h3>

<ul class="iamlist">
 ## ProtocolSupportEnumerations


      <li><h4 class="dt">Protocols</h4>
       <div class="dd">
        <ul class="iamlist">
   #set ( $count = 0 )
   #foreach ( $ps in $relyingParty.protocolSupportEnumerations )
     <li id="pse${count}_0">
       <input class="dd" data-dojo-type="dijit.form.TextBox" name="pse_data" id="pse_${count}" value="$ps" aria-label="protocol"/>
     </li>
     #set ( $count = $count + 1)
   #end

   #foreach ( $i in [ $count .. 4 ] )
     <li id="pse${i}_0" ${hide}>
      <input class="dd" data-dojo-type="dijit.form.TextBox" name="pse" id="pse_${i}" value="" aria-label="protocol"/></td>
     </tr>
   #end
   <li id="ct_more">
    <div class="dt dt3"><a href="javascript:meta_showMoreFields('pse', 'pse_more')">add protocol</a></div>
   </li>
   </ul></div>
  </li>
 
   ## KeyInfo

      <li><h4 class="dt">KeyInfo</h4>
       <div class="dd">
        <ul class="iamlist">
   #set ( $count = 0 )
   #foreach ( $key in $relyingParty.keyDescriptors )
      <li id="ki${count}_0">
        <span class="dt dt3" >Name</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" name="keyName_${count}" id="kn_${count}" value="$!key.keyName" aria-label="name"/>
      </li>

      <li id="ki${count}_1">
        <span class="dt dt3" >Cert PEM</span>
        <textarea class="dd certbox" cols="64" rows="5" name="keyCert_${count}" id="kc_${count}"
               style="font-size:8px" aria-label="cert pem">$!key.certificate</textarea>
      </li>
     #set ( $count = $count + 1)
   #end

   #foreach ( $i in [ $count .. 3 ] )
   
      <li id="ki${i}_0" ${hide}>
      <span class="dt dt3" >Name</span>
        <input class="dd" data-dojo-type="dijit.form.TextBox" name="keyName_${i}" id="kn_${i}" value="" aria-label="name"/>
      </li>
      <li id="ki${i}_1" ${hide}>
      <span class="dt dt3" >Cert PEM</span>
         <textarea class="dd certbox" cols="64" rows="10" name="keyCert_${i}" id="kc_${i}" aria-label="cert pem"></textarea>
      </li>

   #end
   <li id="ct_more">
    <div class="dt "><a href="javascript:meta_showMoreFields('ki', 'ki_more')">add keyinfo</a></div>
   </li>
    </ul></div>
   </li>

 
   ## Nameid

      <li><h4 class="dt">NameID</h4>
       <div class="dd">
        <ul class="iamlist">
   #set ( $count = 0 )
   #foreach ( $name in $relyingParty.nameIDFormats )
     <li id="ni${count}_0">
      <input class="dd" data-dojo-type="dijit.form.TextBox" name="nameId_${count}" id="ni_${count}" value="$name" aria-label="nameid"/>
     </li>
     #set ( $count = $count + 1)
   #end

   #foreach ( $i in [ $count .. 4 ] )
     <li id="ni${i}_0" ${hide}>
      <input class="dd" data-dojo-type="dijit.form.TextBox" name="nameId_${xtra}" id="ni_${i}" value="" aria-label="nameid"/></td>
     </li>
   #end
   <li id="ct_more">
    <div class="dt "><a href="javascript:meta_showMoreFields('ni', 'ni_more')">add nameId</a></div>
   </li>
    </ul></div>
   </li>
 
   ## ACS
      <li><h4 class="dt">ACS</h4>
       <div class="dd">
        <ul class="iamlist">
   #set ( $count = 0 )
   #foreach ( $acs in $relyingParty.assertionConsumerServices )
     <li id="acs${count}_0">
        <input class="dt dt2" data-dojo-type="dijit.form.TextBox" size="2" id="acsi_${count}"
             value="$acs.index" aria-label="acs index"/>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="acsb_${count}"
             value="$acs.binding" size="30" style="width:400px" aria-label="binding"/>
     </li>
     <li id="acs${count}_1">
        <div class="dt dt2" role="presentation"></div>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="acsl_${count}"
             value="$acs.location"  size="30" style="width:400px" aria-label="location"/>
     </li>
     <li><div class="dt" style="height:.5em"></div></li>
     #set ( $count = $count + 1)
   #end

   #foreach ( $i in [ $count .. 49 ] )
     <li id="acs${i}_0" ${hide}>
        <input class="dt dt2" data-dojo-type="dijit.form.TextBox" size="2" id="acsi_${i}"
             value="" placeholder="#" aria-label="index" />
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="acsb_${i}"
            value="" placeholder="binding" aria-label="binding" size="30" />
     </li>
     <li id="acs${i}_1" ${hide}>
        <div class="dt dt2" role="presentation"></div>
        <input class="dd" data-dojo-type="dijit.form.TextBox" id="acsl_${i}"
            value="" placeholder="location" aria-label="location" size="30" />
     </li>
   #end
   <li id="ct_more">
    <div class="dt"><a href="javascript:meta_showMoreFields('acs', 'acs_more')">add ACS</a></div>
   </li>

    </ul></div>
   </li>

</div>

## submitter

<div id="metaDeleteDialog" data-dojo-type="iam/Dialog" title="Metadata delete"
     data-dojo-props="submitLabel:'Yes, delete', submitAction:'deleteRP(\'${relyingParty.entityId}\')', cancelLabel:'Cancel'"
  style="display:none">

<h3>Permanemtly delete ${relyingParty.entityId}?</h3>
<p>
</div>
